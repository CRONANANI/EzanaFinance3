<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio Dashboard - Ezana Finance</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
  <link rel="stylesheet" href="../assets/css/theme-variables.css">
  <link rel="stylesheet" href="../assets/css/theme.css">
  <link rel="stylesheet" href="../assets/css/pages-common.css">
  <link rel="stylesheet" href="../components/notifications/notifications-sidebar.css">
  <link rel="stylesheet" href="home-dashboard.css">
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="dashboard-page">
  <!-- Dark Navigation Bar -->
  <nav class="main-nav dark-nav">
    <div class="nav-container">
      <a href="../index.html" class="nav-brand">
        <span class="brand-text">Ezana Finance</span>
      </a>
      <div class="nav-links">
        <a href="home-dashboard.html" class="nav-link active">Dashboard</a>
        <div class="nav-dropdown">
          <button class="nav-link dropdown-trigger">
            Research Tools
            <i class="bi bi-chevron-down"></i>
          </button>
          <div class="dropdown-menu">
            <a href="inside-the-capitol.html" class="dropdown-item">
              <i class="bi bi-building"></i>
              <div>
                <div class="item-title">Inside The Capitol</div>
                <div class="item-desc">Congressional trading &amp; lobbying</div>
              </div>
            </a>
            <a href="company-research.html" class="dropdown-item">
              <i class="bi bi-bar-chart-line"></i>
              <div>
                <div class="item-title">Company Research</div>
                <div class="item-desc">Financial analysis &amp; metrics</div>
              </div>
            </a>
            <a href="market-analysis.html" class="dropdown-item">
              <i class="bi bi-graph-up-arrow"></i>
              <div>
                <div class="item-title">Market Analysis</div>
                <div class="item-desc">Sector &amp; market trends</div>
              </div>
            </a>
            <a href="economic-indicators.html" class="dropdown-item">
              <i class="bi bi-currency-dollar"></i>
              <div>
                <div class="item-title">Economic Indicators</div>
                <div class="item-desc">Fed tracking &amp; economic data</div>
              </div>
            </a>
            <a href="for-the-quants.html" class="dropdown-item">
              <i class="bi bi-calculator"></i>
              <div>
                <div class="item-title">For the Quants</div>
                <div class="item-desc">Quantitative analysis &amp; models</div>
              </div>
            </a>
          </div>
        </div>
        <a href="watchlist.html" class="nav-link">Watchlist</a>
        <a href="community.html" class="nav-link">Community</a>
      </div>
      <div class="nav-actions">
        <button class="theme-toggle" id="themeToggle" title="Toggle theme">
          <i class="bi bi-sun-fill light-icon"></i>
          <i class="bi bi-moon-fill dark-icon"></i>
        </button>
        <button class="notification-toggle" id="notificationToggle" title="Notifications">
          <i class="bi bi-bell"></i>
          <span class="notification-badge">3</span>
        </button>
        <button class="user-menu-btn" id="userMenuBtn" title="Account">
          <i class="bi bi-person-circle"></i>
        </button>
      </div>
    </div>
  </nav>

  <!-- Investment Feed Sidebar (Shown by default) -->
  <aside class="investment-feed-sidebar" id="investmentFeed">
    <div class="feed-header">
      <h3>Investment Feed</h3>
      <button class="feed-close-btn" id="closeFeedBtn">
        <i class="bi bi-chevron-left"></i>
      </button>
    </div>
    <div class="feed-filters">
      <button class="feed-filter active" data-filter="all">Show All</button>
      <button class="feed-filter" data-filter="congress">Congress Trades</button>
      <button class="feed-filter" data-filter="portfolio">Portfolio Alerts</button>
    </div>
    <div class="feed-items">
      <div class="feed-item" data-priority="high">
        <div class="feed-icon"><i class="bi bi-graph-up"></i></div>
        <div class="feed-content">
          <div class="feed-title">Nancy Pelosi purchased NVDA</div>
          <div class="feed-meta">2 minutes ago</div>
        </div>
      </div>
      <div class="feed-item" data-priority="medium">
        <div class="feed-icon"><i class="bi bi-bell"></i></div>
        <div class="feed-content">
          <div class="feed-title">Your portfolio is up 0.45% today</div>
          <div class="feed-meta">1 hour ago</div>
        </div>
      </div>
    </div>
  </aside>

  <!-- Main Dashboard Content -->
  <main class="dashboard-main">
    <div class="dashboard-container">

      <!-- Quick Actions Bar (50% thinner) -->
      <section class="quick-actions-bar compact">
        <button class="quick-action-btn" data-action="refresh"><i class="bi bi-arrow-clockwise"></i><span>Refresh</span></button>
        <button class="quick-action-btn" data-action="report"><i class="bi bi-file-earmark-text"></i><span>Report</span></button>
        <button class="quick-action-btn" data-action="transaction"><i class="bi bi-plus-circle"></i><span>Transaction</span></button>
        <button class="quick-action-btn" data-action="analysis"><i class="bi bi-graph-up"></i><span>Analysis</span></button>
        <button class="quick-action-btn" data-action="alerts"><i class="bi bi-bell"></i><span>Alerts</span></button>
        <button class="quick-action-btn" data-action="watchlist"><i class="bi bi-bookmark"></i><span>Watchlist</span></button>
      </section>

      <!-- Metrics Carousel (50% thinner) -->
      <section class="metrics-carousel-section compact">
        <button class="carousel-nav prev" id="carouselPrev"><i class="bi bi-chevron-left"></i></button>
        <div class="metrics-carousel-container">
          <div class="metrics-carousel-track" id="metricsCarousel">
            <div class="metric-card" data-metric="pnl">
              <div class="metric-icon pnl"><i class="bi bi-graph-up"></i></div>
              <div class="metric-content">
                <span class="metric-label">Today's P&L</span>
                <span class="metric-value">+$1,247</span>
              </div>
            </div>
            <div class="metric-card" data-metric="performer">
              <div class="metric-icon performer"><i class="bi bi-star"></i></div>
              <div class="metric-content">
                <span class="metric-label">Top Performer</span>
                <span class="metric-value">NVDA</span>
              </div>
            </div>
            <div class="metric-card active" data-metric="risk">
              <div class="metric-icon risk"><i class="bi bi-shield-exclamation"></i></div>
              <div class="metric-content">
                <span class="metric-label">Risk Score</span>
                <span class="metric-value">6.2/10</span>
              </div>
            </div>
            <div class="metric-card" data-metric="dividends">
              <div class="metric-icon dividends"><i class="bi bi-cash-coin"></i></div>
              <div class="metric-content">
                <span class="metric-label">Monthly Dividends</span>
                <span class="metric-value">$847</span>
              </div>
            </div>
            <div class="metric-card" data-metric="market">
              <div class="metric-icon market"><i class="bi bi-graph-up-arrow"></i></div>
              <div class="metric-content">
                <span class="metric-label">Market Performance</span>
                <span class="metric-value">+8.4%</span>
              </div>
            </div>
            <div class="metric-card" data-metric="allocation">
              <div class="metric-icon allocation"><i class="bi bi-pie-chart"></i></div>
              <div class="metric-content">
                <span class="metric-label">Asset Allocation</span>
                <span class="metric-value">Balanced</span>
              </div>
            </div>
            <div class="metric-card" data-metric="volatility">
              <div class="metric-icon volatility"><i class="bi bi-activity"></i></div>
              <div class="metric-content">
                <span class="metric-label">Volatility</span>
                <span class="metric-value">4.8/10</span>
              </div>
            </div>
            <div class="metric-card" data-metric="beta">
              <div class="metric-icon beta"><i class="bi bi-arrow-down-up"></i></div>
              <div class="metric-content">
                <span class="metric-label">Beta vs Market</span>
                <span class="metric-value">1.05</span>
              </div>
            </div>
            <div class="metric-card" data-metric="sector">
              <div class="metric-icon sector"><i class="bi bi-building"></i></div>
              <div class="metric-content">
                <span class="metric-label">Sector Exposure</span>
                <span class="metric-value">Tech 35%</span>
              </div>
            </div>
          </div>
        </div>
        <button class="carousel-nav next" id="carouselNext"><i class="bi bi-chevron-right"></i></button>
      </section>

      <!-- Main Content Grid -->
      <div class="dashboard-grid">
        <!-- Main Chart (2/3 width) -->
        <section class="main-chart-section">
          <div class="chart-header compact">
            <div class="chart-title-area">
              <h2 class="chart-title" id="chartTitle">Risk Score Analysis</h2>
            </div>
            <div class="chart-controls">
              <div class="time-range-selector compact">
                <button class="time-btn" data-range="1D">1D</button>
                <button class="time-btn" data-range="1W">1W</button>
                <button class="time-btn" data-range="1M">1M</button>
                <button class="time-btn active" data-range="3M">3M</button>
                <button class="time-btn" data-range="6M">6M</button>
                <button class="time-btn" data-range="1Y">1Y</button>
              </div>
            </div>
          </div>
          <div class="chart-container compact">
            <canvas id="mainChart"></canvas>
          </div>
        </section>

        <!-- Portfolio News Sidebar (1/3 width) -->
        <section class="portfolio-news-sidebar">
          <div class="news-header">
            <h3>Relevant Portfolio News</h3>
            <i class="bi bi-newspaper"></i>
          </div>
          <div class="news-ticker-wrapper">
            <div class="news-ticker" id="newsTicker">
            <div class="news-insight">
              <div class="insight-icon positive"><i class="bi bi-arrow-up-circle"></i></div>
              <div class="insight-content">
                <p class="insight-text">Yesterday your portfolio jumped by 0.45%. That's the 10th highest one-day jump ever.</p>
                <span class="insight-time">Yesterday</span>
              </div>
            </div>
            <div class="news-insight">
              <div class="insight-icon warning"><i class="bi bi-exclamation-triangle"></i></div>
              <div class="insight-content">
                <p class="insight-text">Your portfolio's tech exposure increased to 35% this week. Consider rebalancing.</p>
                <span class="insight-time">2 days ago</span>
              </div>
            </div>
            <div class="news-insight">
              <div class="insight-icon info"><i class="bi bi-lightbulb"></i></div>
              <div class="insight-content">
                <p class="insight-text">NVDA has gained 12.4% this week. It's now your top performer for Q4.</p>
                <span class="insight-time">3 days ago</span>
              </div>
            </div>
            <div class="news-insight">
              <div class="insight-icon positive"><i class="bi bi-trophy"></i></div>
              <div class="insight-content">
                <p class="insight-text">Your portfolio beat the S&P 500 by 2.2% this quarter. Great job!</p>
                <span class="insight-time">1 week ago</span>
              </div>
            </div>
            <div class="news-insight">
              <div class="insight-icon warning"><i class="bi bi-cash-stack"></i></div>
              <div class="insight-content">
                <p class="insight-text">You'll receive $847 in dividend payments next week from 5 holdings.</p>
                <span class="insight-time">1 week ago</span>
              </div>
            </div>
            <div class="news-insight">
              <div class="insight-icon info"><i class="bi bi-graph-down"></i></div>
              <div class="insight-content">
                <p class="insight-text">Your portfolio volatility decreased to 4.8. You're below market average.</p>
                <span class="insight-time">2 weeks ago</span>
              </div>
            </div>
          </div>
          </div>
        </section>
      </div>

      <!-- Additional Component Cards -->
      <div class="additional-components-grid">
        <section class="component-card transactions-card">
          <div class="card-header">
            <h3>Recent Transactions</h3>
            <button class="card-action-btn">View All</button>
          </div>
          <div class="card-body">
            <div class="transaction-list">
              <div class="transaction-item buy">
                <div class="transaction-icon"><i class="bi bi-arrow-up-circle"></i></div>
                <div class="transaction-details">
                  <div class="transaction-name">NVDA</div>
                  <div class="transaction-meta">Bought 10 shares</div>
                </div>
                <div class="transaction-amount">
                  <div class="amount">$4,850.00</div>
                  <div class="date">Today, 2:30 PM</div>
                </div>
              </div>
              <div class="transaction-item sell">
                <div class="transaction-icon"><i class="bi bi-arrow-down-circle"></i></div>
                <div class="transaction-details">
                  <div class="transaction-name">TSLA</div>
                  <div class="transaction-meta">Sold 5 shares</div>
                </div>
                <div class="transaction-amount">
                  <div class="amount">$1,245.50</div>
                  <div class="date">Yesterday, 10:15 AM</div>
                </div>
              </div>
              <div class="transaction-item buy">
                <div class="transaction-icon"><i class="bi bi-arrow-up-circle"></i></div>
                <div class="transaction-details">
                  <div class="transaction-name">AAPL</div>
                  <div class="transaction-meta">Bought 15 shares</div>
                </div>
                <div class="transaction-amount">
                  <div class="amount">$2,730.00</div>
                  <div class="date">2 days ago</div>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="component-card holdings-card">
          <div class="card-header">
            <h3>Top Holdings</h3>
            <button class="card-action-btn">Manage</button>
          </div>
          <div class="card-body">
            <div class="holdings-list">
              <div class="holding-item">
                <div class="holding-rank">1</div>
                <div class="holding-info">
                  <div class="holding-name">NVDA</div>
                  <div class="holding-shares">150 shares</div>
                </div>
                <div class="holding-value">
                  <div class="value">$72,850</div>
                  <div class="change positive">+12.4%</div>
                </div>
                <div class="holding-allocation">
                  <div class="allocation-bar"><div class="allocation-fill" style="width: 28%"></div></div>
                  <span class="allocation-percent">28%</span>
                </div>
              </div>
              <div class="holding-item">
                <div class="holding-rank">2</div>
                <div class="holding-info">
                  <div class="holding-name">AAPL</div>
                  <div class="holding-shares">200 shares</div>
                </div>
                <div class="holding-value">
                  <div class="value">$36,400</div>
                  <div class="change positive">+5.2%</div>
                </div>
                <div class="holding-allocation">
                  <div class="allocation-bar"><div class="allocation-fill" style="width: 18%"></div></div>
                  <span class="allocation-percent">18%</span>
                </div>
              </div>
              <div class="holding-item">
                <div class="holding-rank">3</div>
                <div class="holding-info">
                  <div class="holding-name">MSFT</div>
                  <div class="holding-shares">85 shares</div>
                </div>
                <div class="holding-value">
                  <div class="value">$32,045</div>
                  <div class="change positive">+3.8%</div>
                </div>
                <div class="holding-allocation">
                  <div class="allocation-bar"><div class="allocation-fill" style="width: 15%"></div></div>
                  <span class="allocation-percent">15%</span>
                </div>
              </div>
            </div>
          </div>
        </section>
        <section class="component-card performance-card">
          <div class="card-header">
            <h3>Performance Summary</h3>
            <select class="time-select">
              <option>This Month</option>
              <option>This Quarter</option>
              <option>This Year</option>
            </select>
          </div>
          <div class="card-body">
            <div class="performance-metrics">
              <div class="perf-metric">
                <div class="perf-label">Total Return</div>
                <div class="perf-value positive">+8.4%</div>
                <div class="perf-comparison">vs S&P 500: +6.2%</div>
              </div>
              <div class="perf-metric">
                <div class="perf-label">Total Gain/Loss</div>
                <div class="perf-value positive">+$12,847</div>
                <div class="perf-comparison">+6.8% of initial investment</div>
              </div>
              <div class="perf-metric">
                <div class="perf-label">Best Day</div>
                <div class="perf-value">+$2,145</div>
                <div class="perf-comparison">December 15, 2025</div>
              </div>
              <div class="perf-metric">
                <div class="perf-label">Dividend Income</div>
                <div class="perf-value">$2,541</div>
                <div class="perf-comparison">+12% vs last period</div>
              </div>
            </div>
          </div>
        </section>
        <section class="component-card alerts-card">
          <div class="card-header">
            <h3>Alerts & Recommendations</h3>
            <span class="alert-count">3 New</span>
          </div>
          <div class="card-body">
            <div class="alerts-list">
              <div class="alert-item high">
                <div class="alert-priority"><i class="bi bi-exclamation-circle"></i></div>
                <div class="alert-content">
                  <div class="alert-title">Rebalancing Suggested</div>
                  <div class="alert-message">Your tech allocation (35%) exceeds target (30%). Consider reducing exposure.</div>
                </div>
                <button class="alert-action">Review</button>
              </div>
              <div class="alert-item medium">
                <div class="alert-priority"><i class="bi bi-lightbulb"></i></div>
                <div class="alert-content">
                  <div class="alert-title">Buy Opportunity</div>
                  <div class="alert-message">AAPL is down 3.2% today. Good entry point based on your strategy.</div>
                </div>
                <button class="alert-action">View</button>
              </div>
              <div class="alert-item low">
                <div class="alert-priority"><i class="bi bi-info-circle"></i></div>
                <div class="alert-content">
                  <div class="alert-title">Dividend Payment</div>
                  <div class="alert-message">You'll receive $847 in dividends on October 15th from 5 holdings.</div>
                </div>
                <button class="alert-action">Details</button>
              </div>
            </div>
          </div>
        </section>
      </div>
    </div>
  </main>

  <script src="../assets/js/theme.js"></script>
  <script src="../js/api-service.js"></script>
  <script src="home-dashboard.js"></script>
</body>
</html>

<div class="container mx-auto px-4 py-8">
    <div class="flex items-center justify-between mb-8">
        <div>
            <h1 class="text-3xl font-bold text-gray-900 dark:text-white">Portfolio Dashboard</h1>
            <p class="text-gray-600 dark:text-gray-400 mt-2">Track your investments and financial performance</p>
        </div>
        <div class="flex items-center space-x-4">
            <button onclick="refreshPortfolioData()" class="btn btn-primary">
                <i class="bi bi-arrow-clockwise mr-2"></i>Refresh
            </button>
            <div class="text-sm text-gray-500 dark:text-gray-400">
                Last updated: <span id="portfolio-last-updated">Just now</span>
            </div>
        </div>
    </div>

    <!-- Portfolio Overview Cards -->
    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8">
        <div class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Total Value</p>
                    <p class="text-2xl font-bold text-gray-900 dark:text-white">$127,843.52</p>
                    <p class="text-sm text-emerald-600 dark:text-emerald-400">+2.28% today</p>
                </div>
                <div class="w-12 h-12 bg-emerald-100 dark:bg-emerald-900 rounded-full flex items-center justify-center">
                    <i class="bi bi-wallet2 text-emerald-600 dark:text-emerald-400 text-xl"></i>
                </div>
            </div>
        </div>
        
        <div class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Today's P&L</p>
                    <p class="text-2xl font-bold text-gray-900 dark:text-white">+$847.31</p>
                    <p class="text-sm text-emerald-600 dark:text-emerald-400">+0.67%</p>
                </div>
                <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center">
                    <i class="bi bi-graph-up-arrow text-blue-600 dark:text-blue-400 text-xl"></i>
                </div>
            </div>
        </div>
        
        <div class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Monthly Dividends</p>
                    <p class="text-2xl font-bold text-gray-900 dark:text-white">$342.18</p>
                    <p class="text-sm text-emerald-600 dark:text-emerald-400">+9.07%</p>
                </div>
                <div class="w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center">
                    <i class="bi bi-cash-coin text-purple-600 dark:text-purple-400 text-xl"></i>
                </div>
            </div>
        </div>
        
        <div class="bg-white dark:bg-gray-800 rounded-xl p-6 border border-gray-200 dark:border-gray-700">
            <div class="flex items-center justify-between">
                <div>
                    <p class="text-sm text-gray-600 dark:text-gray-400">Risk Score</p>
                    <p class="text-2xl font-bold text-gray-900 dark:text-white">7.2/10</p>
                    <p class="text-sm text-yellow-600 dark:text-yellow-400">Moderate</p>
                </div>
                <div class="w-12 h-12 bg-yellow-100 dark:bg-yellow-900 rounded-full flex items-center justify-center">
                    <i class="bi bi-shield-check text-yellow-600 dark:text-yellow-400 text-xl"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="portfolio-grid">
        <!-- Total Portfolio Value Card -->
        <div class="dashboard-card expandable-portfolio" data-type="portfolio-value">
            <div class="dashboard-card-header" onclick="togglePortfolioExpansion(event)">
                <h3 class="dashboard-card-title">Total Portfolio Value</h3>
                <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <i class="bi bi-wallet2 text-xl"></i>
                </div>
                <div class="dashboard-card-toggle">
                    <i class="bi bi-chevron-down text-lg transition-transform duration-200"></i>
                </div>
            </div>
            <div class="dashboard-card-value">$127,843.52</div>
            <div class="dashboard-card-change positive">
                <i class="bi bi-arrow-up"></i>
                +$2,847.31 (+2.28%)
            </div>
            <div class="dashboard-card-description">Updated 2 minutes ago</div>
            
            <!-- Portfolio Chart Content -->
            <div class="portfolio-chart-content hidden" id="portfolio-chart-content">
                <div class="portfolio-chart-controls">
                    <div class="time-period-selector">
                        <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Time Period:</label>
                        <select id="portfolio-time-period" onchange="updatePortfolioChart()" class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-gray-200">
                            <option value="3">3 Months</option>
                            <option value="6">6 Months</option>
                            <option value="12" selected>12 Months</option>
                        </select>
                    </div>
                </div>
                
                <!-- Top 3 Holdings Section -->
                <div class="top-holdings-section mt-6">
                    <h4 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mb-4">Top 3 Holdings</h4>
                    <div class="holdings-grid">
                        <div class="holding-card" id="holding-1">
                            <div class="holding-header">
                                <div class="holding-symbol">AAPL</div>
                                <div class="holding-name">Apple Inc.</div>
                            </div>
                            <div class="holding-details">
                                <div class="holding-shares">25 shares</div>
                                <div class="holding-value">$4,375.00</div>
                            </div>
                            <div class="holding-return">
                                <span class="return-label">Return:</span>
                                <span class="return-value positive">+$875.00 (+25.0%)</span>
                            </div>
                        </div>
                        
                        <div class="holding-card" id="holding-2">
                            <div class="holding-header">
                                <div class="holding-symbol">TSLA</div>
                                <div class="holding-name">Tesla Inc.</div>
                            </div>
                            <div class="holding-details">
                                <div class="holding-shares">15 shares</div>
                                <div class="holding-value">$3,150.00</div>
                            </div>
                            <div class="holding-return">
                                <span class="return-label">Return:</span>
                                <span class="return-value positive">+$630.00 (+25.0%)</span>
                            </div>
                        </div>
                        
                        <div class="holding-card" id="holding-3">
                            <div class="holding-header">
                                <div class="holding-symbol">MSFT</div>
                                <div class="holding-name">Microsoft Corp.</div>
                            </div>
                            <div class="holding-details">
                                <div class="holding-shares">20 shares</div>
                                <div class="holding-value">$7,600.00</div>
                            </div>
                            <div class="holding-return">
                                <span class="return-label">Return:</span>
                                <span class="return-value positive">+$1,520.00 (+25.0%)</span>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="portfolio-chart-container mt-6">
                    <canvas id="portfolio-chart" width="1200" height="500"></canvas>
                </div>
            </div>
        </div>

        <!-- Today's Gain/Loss Card -->
        <div class="dashboard-card">
            <div class="dashboard-card-header">
                <h3 class="dashboard-card-title">Today's P&L</h3>
                <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #059669 0%, #047857 100%);">
                    <i class="bi bi-graph-up-arrow text-xl"></i>
                </div>
            </div>
            <div class="dashboard-card-value">+$847.31</div>
            <div class="dashboard-card-change positive">
                <i class="bi bi-arrow-up"></i>
                +0.67%
            </div>
            <div class="dashboard-card-description">Market hours performance</div>
        </div>

        <!-- Top Performer Card -->
        <div class="dashboard-card">
            <div class="dashboard-card-header">
                <h3 class="dashboard-card-title">Top Performer</h3>
                <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <i class="bi bi-star-fill text-xl"></i>
                </div>
            </div>
            <div class="dashboard-card-value">TSLA</div>
            <div class="dashboard-card-change positive">
                <i class="bi bi-arrow-up"></i>
                +$156.42 (+8.45%)
            </div>
            <div class="dashboard-card-description">Tesla Inc. - 15 shares</div>
        </div>

        <!-- Risk Score Card -->
        <div class="dashboard-card">
            <div class="dashboard-card-header">
                <h3 class="dashboard-card-title">Risk Score</h3>
                <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);">
                    <i class="bi bi-shield-check text-xl"></i>
                </div>
            </div>
            <div class="dashboard-card-value">7.2/10</div>
            <div class="dashboard-card-change positive">
                <i class="bi bi-arrow-down"></i>
                -0.3 from last week
            </div>
            <div class="dashboard-card-description">Moderate risk profile</div>
        </div>

        <!-- Dividend Income Card -->
        <div class="dashboard-card">
            <div class="dashboard-card-header">
                <h3 class="dashboard-card-title">Monthly Dividends</h3>
                <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <i class="bi bi-cash-coin text-xl"></i>
                </div>
            </div>
            <div class="dashboard-card-value">$342.18</div>
            <div class="dashboard-card-change positive">
                <i class="bi bi-arrow-up"></i>
                +$28.45 (+9.07%)
            </div>
            <div class="dashboard-card-description">Next payment: March 15</div>
        </div>

        <!-- Asset Allocation Card -->
        <div class="dashboard-card expandable-asset-allocation" data-type="asset-allocation">
            <div class="dashboard-card-header" onclick="toggleAssetAllocationExpansion(event)">
                <h3 class="dashboard-card-title">Asset Allocation</h3>
                <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #10b981 0%, #059669 100%);">
                    <i class="bi bi-pie-chart text-xl"></i>
                </div>
                <div class="dashboard-card-toggle">
                    <i class="bi bi-chevron-down text-lg transition-transform duration-200"></i>
                </div>
            </div>
            <div class="dashboard-card-value">Diversified</div>
            <div class="dashboard-card-change positive">
                <i class="bi bi-check-circle"></i>
                Well balanced
            </div>
            <div class="dashboard-card-description">Stocks: 65% | Bonds: 20% | Cash: 15%</div>
            
            <!-- Asset Allocation Chart Content -->
            <div class="asset-allocation-chart-content hidden" id="asset-allocation-chart-content">
                <div class="chart-controls">
                    <div class="breakdown-selector">
                        <label class="text-sm font-medium text-gray-700 dark:text-gray-300">Breakdown Type:</label>
                        <select id="breakdown-type" onchange="updateAssetAllocationChart()" class="px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-md focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 dark:bg-gray-700 dark:text-gray-200">
                            <option value="asset-class" selected>Asset Class</option>
                            <option value="sector">Sector</option>
                            <option value="performance">Performance</option>
                        </select>
                    </div>
                </div>
                <div class="chart-and-insights-container mt-6">
                    <div class="asset-allocation-chart-container">
                        <canvas id="asset-allocation-chart" width="1200" height="600"></canvas>
                    </div>
                    <div class="insights-container">
                        <h4 class="insights-title">Market Insights & Analysis</h4>
                        <div class="insights-content">
                            <div class="chart-summary">
                                <h5 class="summary-title">Chart Summary</h5>
                                <p id="chart-summary-text" class="summary-text">Your portfolio shows a balanced allocation with strong diversification across asset classes.</p>
                            </div>
                            <div class="market-news">
                                <h5 class="news-title">Recent Market News</h5>
                                <div id="market-news-content" class="news-content">
                                    <div class="news-item">Federal Reserve maintains interest rates, supporting equity markets</div>
                                    <div class="news-item">Tech sector shows resilience amid market volatility</div>
                                    <div class="news-item">Energy stocks outperform as oil prices stabilize</div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Market Performance Card -->
        <div class="dashboard-card">
            <div class="dashboard-card-header">
                <h3 class="dashboard-card-title">Market Performance</h3>
                <div class="dashboard-card-icon" style="background: linear-gradient(135deg, #3b82f6 0%, #1d4ed8 100%);">
                    <i class="bi bi-graph-up text-xl"></i>
                </div>
            </div>
            <div class="dashboard-card-value">S&P 500</div>
            <div class="dashboard-card-change positive">
                <i class="bi bi-arrow-up"></i>
                +1.24% today
            </div>
            <div class="dashboard-card-description">4,567.89 (+56.78)</div>
        </div>
    </div>

    <!-- Recent Transactions Section -->
    <div class="mt-12">
        <div class="flex items-center justify-between mb-6">
            <h2 class="text-2xl font-bold text-gray-900 dark:text-white">Recent Transactions</h2>
            <button class="text-emerald-600 hover:text-emerald-700 font-medium">View All</button>
        </div>
        
        <div class="bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-200 dark:border-gray-700 overflow-hidden">
            <div class="divide-y divide-gray-200 dark:divide-gray-700">
                <div class="flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-750">
                    <div class="flex items-center space-x-4">
                        <div class="w-10 h-10 bg-emerald-100 dark:bg-emerald-900 rounded-full flex items-center justify-center">
                            <i class="bi bi-arrow-up text-emerald-600 dark:text-emerald-400"></i>
                        </div>
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white">AAPL Purchase</div>
                            <div class="text-sm text-gray-500 dark:text-gray-400">Apple Inc. • 10 shares</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="font-semibold text-gray-900 dark:text-white">$1,750.00</div>
                        <div class="text-sm text-gray-500 dark:text-gray-400">2 hours ago</div>
                    </div>
                </div>
                
                <div class="flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-750">
                    <div class="flex items-center space-x-4">
                        <div class="w-10 h-10 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center">
                            <i class="bi bi-arrow-down text-red-600 dark:text-red-400"></i>
                        </div>
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white">MSFT Sale</div>
                            <div class="text-sm text-gray-500 dark:text-gray-400">Microsoft Corp. • 5 shares</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="font-semibold text-gray-900 dark:text-white">$1,920.00</div>
                        <div class="text-sm text-gray-500 dark:text-gray-400">1 day ago</div>
                    </div>
                </div>
                
                <div class="flex items-center justify-between p-4 hover:bg-gray-50 dark:hover:bg-gray-750">
                    <div class="flex items-center space-x-4">
                        <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center">
                            <i class="bi bi-cash text-blue-600 dark:text-blue-400"></i>
                        </div>
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white">Dividend Payment</div>
                            <div class="text-sm text-gray-500 dark:text-gray-400">Johnson & Johnson</div>
                        </div>
                    </div>
                    <div class="text-right">
                        <div class="font-semibold text-emerald-600 dark:text-emerald-400">+$45.20</div>
                        <div class="text-sm text-gray-500 dark:text-gray-400">3 days ago</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Quick Actions Section -->
    <div class="mt-12">
        <h2 class="text-2xl font-bold text-gray-900 dark:text-white mb-6">Quick Actions</h2>
        
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4">
            <button class="p-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-emerald-500 hover:shadow-lg transition-all duration-200 group">
                <div class="flex flex-col items-center space-y-3">
                    <div class="w-12 h-12 bg-emerald-100 dark:bg-emerald-900 rounded-full flex items-center justify-center group-hover:bg-emerald-500 transition-colors">
                        <i class="bi bi-plus text-emerald-600 dark:text-emerald-400 group-hover:text-white text-xl"></i>
                    </div>
                    <span class="font-medium text-gray-900 dark:text-white">Add Investment</span>
                </div>
            </button>
            
            <button class="p-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-emerald-500 hover:shadow-lg transition-all duration-200 group">
                <div class="flex flex-col items-center space-y-3">
                    <div class="w-12 h-12 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center group-hover:bg-blue-500 transition-colors">
                        <i class="bi bi-graph-up text-blue-600 dark:text-blue-400 group-hover:text-white text-xl"></i>
                    </div>
                    <span class="font-medium text-gray-900 dark:text-white">View Analytics</span>
                </div>
            </button>
            
            <button class="p-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-emerald-500 hover:shadow-lg transition-all duration-200 group">
                <div class="flex flex-col items-center space-y-3">
                    <div class="w-12 h-12 bg-purple-100 dark:bg-purple-900 rounded-full flex items-center justify-center group-hover:bg-purple-500 transition-colors">
                        <i class="bi bi-gear text-purple-600 dark:text-purple-400 group-hover:text-white text-xl"></i>
                    </div>
                    <span class="font-medium text-gray-900 dark:text-white">Settings</span>
                </div>
            </button>
            
            <button onclick="switchTab('inside-the-capitol')" class="p-6 bg-white dark:bg-gray-800 rounded-xl border border-gray-200 dark:border-gray-700 hover:border-emerald-500 hover:shadow-lg transition-all duration-200 group">
                <div class="flex flex-col items-center space-y-3">
                    <div class="w-12 h-12 bg-amber-100 dark:bg-amber-900 rounded-full flex items-center justify-center group-hover:bg-amber-500 transition-colors">
                        <i class="bi bi-building text-amber-600 dark:text-amber-400 group-hover:text-white text-xl"></i>
                    </div>
                    <span class="font-medium text-gray-900 dark:text-white">Capitol Insights</span>
                </div>
            </button>
        </div>
    </div>
</div>

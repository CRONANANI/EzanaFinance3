<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Watchlist - Ezana Finance</title>
    <!-- Bootstrap Icons -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700;900&display=swap" rel="stylesheet">
    <!-- Main Styles -->
    <link rel="stylesheet" href="../styles.css">
    <!-- Navigation CSS -->
    <link rel="stylesheet" href="../components/navigation/navigation.css">
    <!-- Notifications Sidebar CSS -->
    <link rel="stylesheet" href="../components/notifications/notifications-sidebar.css">
    <!-- Watchlist Component Cards CSS -->
    <link rel="stylesheet" href="../components/pages/watchlist/new-watchlist-card/new-watchlist-card.css">
    <link rel="stylesheet" href="../components/pages/watchlist/set-alert-card/set-alert-card.css">
    <link rel="stylesheet" href="../components/pages/watchlist/export-data-card/export-data-card.css">
    <link rel="stylesheet" href="../components/pages/watchlist/share-list-card/share-list-card.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
            font-family: 'Lato', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            color: white;
            min-height: 100vh;
            padding: 24px;
            padding-top: calc(var(--nav-height, 64px) + 24px); /* Account for fixed topnav height */
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        /* Professional Hero Section */
        .hero-section {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(59, 130, 246, 0.1) 100%);
            border-radius: 1.5rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            position: relative;
            overflow: hidden;
        }

        .hero-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.05) 0%, rgba(59, 130, 246, 0.05) 100%);
            border-radius: 2rem;
        }

        .hero-content {
            position: relative;
            z-index: 1;
            text-align: center;
        }

        .hero-title {
            font-size: 2.5rem;
            font-weight: 300;
            margin-bottom: 0.75rem;
            line-height: 1.1;
        }

        .hero-description {
            font-size: 1rem;
            color: var(--muted-foreground);
            margin-bottom: 1rem;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.5;
        }

        .hero-stats {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            flex-wrap: wrap;
        }

        .hero-stat {
            text-align: center;
            padding: 0.75rem;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 0.75rem;
            border: 1px solid rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            min-width: 90px;
        }

        .hero-stat-number {
            display: block;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--primary);
            margin-bottom: 0.125rem;
        }

        .hero-stat-label {
            font-size: 0.75rem;
            color: var(--muted-foreground);
            font-weight: 500;
        }

        /* Section Headers - Compact */
        .section-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .section-title {
            font-size: 2.5rem;
            font-weight: 300;
            color: var(--foreground);
            margin-bottom: 1rem;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -0.5rem;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            border-radius: 2px;
        }

        .section-description {
            font-size: 1.125rem;
            color: var(--muted-foreground);
            max-width: 600px;
            margin: 0 auto;
            line-height: 1.6;
        }

        /* Enhanced Watchlist Grid */
        .watchlist-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 4rem;
        }

        /* Professional Card Enhancements */
        .watchlist-card {
            background: var(--card);
            border-radius: 1.5rem;
            padding: 2.5rem;
            border: 1px solid var(--border);
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .watchlist-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, var(--primary), var(--accent), var(--primary));
            background-size: 200% 100%;
            animation: shimmer 3s ease-in-out infinite;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .watchlist-card:hover::before {
            opacity: 1;
        }

        .watchlist-card:hover {
            transform: translateY(-8px);
            box-shadow: var(--shadow-xl);
            border-color: var(--primary);
        }

        /* Responsive Hero */
        @media (max-width: 768px) {
            .hero-section {
                padding: 1rem;
                margin-bottom: 1rem;
            }
            
            .hero-title {
                font-size: 2rem;
            }
            
            .hero-description {
                font-size: 0.875rem;
            }
            
            .hero-stats {
                gap: 0.75rem;
            }
            
            .hero-stat {
                padding: 0.5rem;
                min-width: 70px;
            }
            
            .hero-stat-number {
                font-size: 1.125rem;
            }
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .watchlist-grid {
                grid-template-columns: 1fr;
                gap: 1.5rem;
            }
        }

        .page-title-shiny {
            background: linear-gradient(135deg, #10b981, #3b82f6, #8b5cf6);
            background-size: 200% 200%;
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            animation: shimmer 3s ease-in-out infinite;
        }

        @keyframes shimmer {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .text-foreground {
            color: #f8fafc;
        }

        .text-muted-foreground {
            color: #94a3b8;
        }

        .text-lg {
            font-size: 1.125rem;
            line-height: 1.75rem;
        }

        .text-4xl {
            font-size: 2.25rem;
            line-height: 2.5rem;
        }

        .font-light {
            font-weight: 300;
        }

        .tracking-tight {
            letter-spacing: -0.025em;
        }

        .mb-4 {
            margin-bottom: 1rem;
        }

        .mb-12 {
            margin-bottom: 3rem;
        }

        .grid {
            display: grid;
        }

        .grid-cols-1 {
            grid-template-columns: repeat(1, minmax(0, 1fr));
        }

        .lg\\:grid-cols-2 {
            @media (min-width: 1024px) {
                grid-template-columns: repeat(2, minmax(0, 1fr));
            }
        }

        .xl\\:grid-cols-3 {
            @media (min-width: 1280px) {
                grid-template-columns: repeat(3, minmax(0, 1fr));
            }
        }

        .gap-4 {
            gap: 1rem;
        }

        .gap-6 {
            gap: 1.5rem;
        }

        .gap-8 {
            gap: 2rem;
        }

        .px-6 {
            padding-left: 1.5rem;
            padding-right: 1.5rem;
        }

        .py-12 {
            padding-top: 3rem;
            padding-bottom: 3rem;
        }
    </style>
</head>
<body>
    <!-- Navigation will be dynamically loaded -->

    <!-- Notifications Sidebar -->
<div id="notifications-sidebar" class="notifications-sidebar open">
    <!-- Sidebar Toggle Button -->
    <button id="notifications-toggle" class="notifications-toggle" onclick="toggleNotificationsSidebar()">
        <i class="bi bi-bell"></i>
    </button>

    <!-- Sidebar Content -->
    <div class="notifications-content">
        <!-- Header -->
        <div class="notifications-header">
            <div class="notifications-title">
                <h3>Investment Feed</h3>
            </div>
            <div class="notifications-actions">
                <button class="notifications-collapse" onclick="toggleSidebarCollapse()" title="Collapse Sidebar">
                    <i class="bi bi-chevron-double-left"></i>
                </button>
                <button class="notifications-settings" onclick="openNotificationSettings()" title="Settings">
                    <i class="bi bi-gear"></i>
                </button>
            </div>
        </div>

        <!-- Filter Tabs -->
        <div class="notifications-filters">
            <button class="filter-btn active" data-filter="all" onclick="filterNotifications('all')">
                All
            </button>
            <button class="filter-btn" data-filter="congress" onclick="filterNotifications('congress')">
                Congress
            </button>
            <button class="filter-btn" data-filter="stocks" onclick="filterNotifications('stocks')">
                Stocks
            </button>
            <button class="filter-btn" data-filter="community" onclick="filterNotifications('community')">
                Community
            </button>
        </div>

        <!-- Notifications List -->
        <div class="notifications-list" id="notifications-list">
            <!-- Notifications will be dynamically populated here -->
        </div>

        <!-- Empty State -->
        <div class="notifications-empty" id="notifications-empty" style="display: none;">
            <i class="bi bi-bell-slash"></i>
            <p>No notifications yet</p>
            <small>We'll notify you when something important happens</small>
        </div>
    </div>
</div>

<div class="container mx-auto px-6 py-12" style="margin-left: 350px;">
    <!-- Hero Section -->
    <div class="hero-section">
        <div class="hero-content">
            <h1 class="hero-title page-title-shiny">Watchlists</h1>
            <p class="hero-description">Track your favorite congress people, stocks, and investment opportunities with real-time updates</p>
            <div class="hero-stats">
                <div class="hero-stat">
                    <span class="hero-stat-number">24</span>
                    <span class="hero-stat-label">Following</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">5</span>
                    <span class="hero-stat-label">Stock Lists</span>
                </div>
                <div class="hero-stat">
                    <span class="hero-stat-number">12</span>
                    <span class="hero-stat-label">Alerts</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Watchlist Overview Section -->
    <div class="section-header">
        <h2 class="section-title">Watchlist Overview</h2>
        <p class="section-description">Your personalized tracking dashboard for stocks and congressional activities</p>
    </div>
    
    <div class="watchlist-overview-grid">
        <div class="watchlist-overview-card total-watchlists">
            <div class="card-header">
                <div>
                    <p class="card-title">Following</p>
                    <p class="card-value" id="following-count">24</p>
                </div>
                <div class="card-icon">
                    <i class="bi bi-star"></i>
                </div>
            </div>
        </div>
        
        <div class="watchlist-overview-card active-alerts">
            <div class="card-header">
                <div>
                    <p class="card-title">Stock Lists</p>
                    <p class="card-value">5</p>
                </div>
                <div class="card-icon">
                    <i class="bi bi-list"></i>
                </div>
            </div>
        </div>
        
        <div class="watchlist-overview-card tracked-stocks">
            <div class="card-header">
                <div>
                    <p class="card-title">Alerts</p>
                    <p class="card-value">12</p>
                </div>
                <div class="card-icon">
                    <i class="bi bi-bell"></i>
                </div>
            </div>
        </div>
        
        <div class="watchlist-overview-card portfolio-value">
            <div class="card-header">
                <div>
                    <p class="card-title">This Week</p>
                    <p class="card-value">8</p>
                </div>
                <div class="card-icon">
                    <i class="bi bi-graph-up"></i>
                </div>
            </div>
        </div>
    </div>

    <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <!-- People I'm Following -->
        <div class="bg-card rounded-xl p-6 border border-border">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-medium text-foreground">People I'm Following</h3>
                <button onclick="switchTab('inside-the-capitol')" class="text-primary hover:text-primary/80 font-medium text-sm">
                    Add More
                </button>
            </div>
            
            <div id="following-section">
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg border border-emerald-200 dark:border-emerald-700">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-emerald-500 rounded-full flex items-center justify-center">
                                <span class="text-white font-bold text-sm">NP</span>
                            </div>
                            <div>
                                <div class="font-medium text-gray-900 dark:text-gray-100">Nancy Pelosi</div>
                                <div class="text-sm text-gray-600 dark:text-gray-400">House • Democrat • CA</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-xs bg-emerald-100 dark:bg-emerald-900 text-emerald-700 dark:text-emerald-300 px-2 py-1 rounded">3 trades this week</span>
                            <button onclick="toggleFollowCongressPerson('Nancy Pelosi', event)" class="text-emerald-600 hover:text-emerald-700 transition-colors">
                                <i class="bi bi-star-fill"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-700">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-blue-500 rounded-full flex items-center justify-center">
                                <span class="text-white font-bold text-sm">CS</span>
                            </div>
                            <div>
                                <div class="font-medium text-gray-900 dark:text-gray-100">Chuck Schumer</div>
                                <div class="text-sm text-gray-600 dark:text-gray-400">Senate • Democrat • NY</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-xs bg-blue-100 dark:bg-blue-900 text-blue-700 dark:text-blue-300 px-2 py-1 rounded">1 trade this week</span>
                            <button onclick="toggleFollowCongressPerson('Chuck Schumer', event)" class="text-blue-600 hover:text-blue-700 transition-colors">
                                <i class="bi bi-star-fill"></i>
                            </button>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-4 bg-purple-50 dark:bg-purple-900/20 rounded-lg border border-purple-200 dark:border-purple-700">
                        <div class="flex items-center space-x-3">
                            <div class="w-10 h-10 bg-purple-500 rounded-full flex items-center justify-center">
                                <span class="text-white font-bold text-sm">MM</span>
                            </div>
                            <div>
                                <div class="font-medium text-gray-900 dark:text-gray-100">Mitch McConnell</div>
                                <div class="text-sm text-gray-600 dark:text-gray-400">Senate • Republican • KY</div>
                            </div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="text-xs bg-purple-100 dark:bg-purple-900 text-purple-700 dark:text-purple-300 px-2 py-1 rounded">No recent trades</span>
                            <button onclick="toggleFollowCongressPerson('Mitch McConnell', event)" class="text-purple-600 hover:text-purple-700 transition-colors">
                                <i class="bi bi-star-fill"></i>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Stock Watchlists -->
        <div class="bg-card rounded-xl p-6 border border-border">
            <div class="flex items-center justify-between mb-4">
                <h3 class="text-lg font-medium text-foreground">Stock Watchlists</h3>
                <button onclick="createNewWatchlist()" class="px-4 py-2 bg-primary hover:bg-primary/90 text-primary-foreground rounded-lg transition-colors text-sm">
                    <i class="bi bi-plus mr-1"></i>New List
                </button>
            </div>
            
            <div class="space-y-4">
                <!-- Tech Stocks Watchlist -->
                <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-blue-100 dark:bg-blue-900 rounded-lg flex items-center justify-center">
                                <i class="bi bi-cpu text-blue-600 dark:text-blue-400"></i>
                            </div>
                            <h4 class="font-semibold text-gray-900 dark:text-white">Tech Stocks</h4>
                        </div>
                        <span class="text-sm text-gray-500 dark:text-gray-500">8 stocks</span>
                    </div>
                    
                    <div class="grid grid-cols-2 md:grid-cols-4 gap-3">
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">AAPL</div>
                            <div class="text-xs text-emerald-600 dark:text-emerald-400">+1.2%</div>
                        </div>
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">MSFT</div>
                            <div class="text-xs text-emerald-600 dark:text-emerald-400">+0.8%</div>
                        </div>
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">GOOGL</div>
                            <div class="text-xs text-red-600 dark:text-red-400">-0.3%</div>
                        </div>
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">NVDA</div>
                            <div class="text-xs text-emerald-600 dark:text-emerald-400">+2.1%</div>
                        </div>
                    </div>
                </div>

                <!-- Growth Stocks Watchlist -->
                <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-emerald-100 dark:bg-emerald-900 rounded-lg flex items-center justify-center">
                                <i class="bi bi-graph-up text-emerald-600 dark:text-emerald-400"></i>
                            </div>
                            <h4 class="font-semibold text-gray-900 dark:text-white">Growth Stocks</h4>
                        </div>
                        <span class="text-sm text-gray-500 dark:text-gray-500">6 stocks</span>
                    </div>
                    
                    <div class="grid grid-cols-2 md:grid-cols-3 gap-3">
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">TSLA</div>
                            <div class="text-xs text-emerald-600 dark:text-emerald-400">+3.4%</div>
                        </div>
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">AMZN</div>
                            <div class="text-xs text-emerald-600 dark:text-emerald-400">+1.7%</div>
                        </div>
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">META</div>
                            <div class="text-xs text-red-600 dark:text-red-400">-0.9%</div>
                        </div>
                    </div>
                </div>

                <!-- Dividend Stocks Watchlist -->
                <div class="p-4 border border-gray-200 dark:border-gray-700 rounded-lg">
                    <div class="flex items-center justify-between mb-3">
                        <div class="flex items-center space-x-3">
                            <div class="w-8 h-8 bg-yellow-100 dark:bg-yellow-900 rounded-lg flex items-center justify-center">
                                <i class="bi bi-cash-coin text-yellow-600 dark:text-yellow-400"></i>
                            </div>
                            <h4 class="font-semibold text-gray-900 dark:text-white">Dividend Stocks</h4>
                        </div>
                        <span class="text-sm text-gray-500 dark:text-gray-500">10 stocks</span>
                    </div>
                    
                    <div class="grid grid-cols-2 md:grid-cols-5 gap-3">
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">JNJ</div>
                            <div class="text-xs text-emerald-600 dark:text-emerald-400">+0.5%</div>
                        </div>
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">PG</div>
                            <div class="text-xs text-emerald-600 dark:text-emerald-400">+0.3%</div>
                        </div>
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">KO</div>
                            <div class="text-xs text-emerald-600 dark:text-emerald-400">+0.7%</div>
                        </div>
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">PEP</div>
                            <div class="text-xs text-red-600 dark:text-red-400">-0.2%</div>
                        </div>
                        <div class="text-center p-2 bg-gray-50 dark:bg-gray-700 rounded">
                            <div class="font-mono text-sm font-bold text-gray-900 dark:text-white">T</div>
                            <div class="text-xs text-emerald-600 dark:text-emerald-400">+0.1%</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Recent Activity -->
    <div class="mt-6 bg-card rounded-xl p-6 border border-border">
        <h3 class="text-lg font-medium text-foreground mb-4">Recent Activity</h3>
        
        <div class="space-y-4">
            <div class="flex items-start space-x-4 p-4 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors">
                <div class="w-10 h-10 bg-emerald-100 dark:bg-emerald-900 rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="bi bi-graph-up text-emerald-600 dark:text-emerald-400"></i>
                </div>
                <div class="flex-1">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-medium text-gray-900 dark:text-white">Nancy Pelosi bought NVIDIA</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Purchased $50,000 - $100,000 worth of NVDA shares</p>
                        </div>
                        <div class="text-right">
                            <div class="text-sm text-gray-500 dark:text-gray-500">2 hours ago</div>
                            <div class="text-xs text-emerald-600 dark:text-emerald-400">+2.1% since trade</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flex items-start space-x-4 p-4 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors">
                <div class="w-10 h-10 bg-blue-100 dark:bg-blue-900 rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="bi bi-bell text-blue-600 dark:text-blue-400"></i>
                </div>
                <div class="flex-1">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-medium text-gray-900 dark:text-white">Price Alert Triggered</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">AAPL reached your target price of $175.00</p>
                        </div>
                        <div class="text-right">
                            <div class="text-sm text-gray-500 dark:text-gray-500">1 day ago</div>
                            <div class="text-xs text-emerald-600 dark:text-emerald-400">Target reached</div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="flex items-start space-x-4 p-4 hover:bg-gray-50 dark:hover:bg-gray-700 rounded-lg transition-colors">
                <div class="w-10 h-10 bg-red-100 dark:bg-red-900 rounded-full flex items-center justify-center flex-shrink-0">
                    <i class="bi bi-graph-down text-red-600 dark:text-red-400"></i>
                </div>
                <div class="flex-1">
                    <div class="flex items-center justify-between">
                        <div>
                            <h4 class="font-medium text-gray-900 dark:text-white">Chuck Schumer sold Microsoft</h4>
                            <p class="text-sm text-gray-600 dark:text-gray-400">Sold $25,000 - $50,000 worth of MSFT shares</p>
                        </div>
                        <div class="text-right">
                            <div class="text-sm text-gray-500 dark:text-gray-500">2 days ago</div>
                            <div class="text-xs text-red-600 dark:text-red-400">-0.5% since trade</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Alert Settings -->
    <div class="mt-6 bg-card rounded-xl p-6 border border-border">
        <h3 class="text-lg font-medium text-foreground mb-4">Alert Settings</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
            <div>
                <h4 class="font-medium text-gray-900 dark:text-white mb-4">Price Alerts</h4>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white text-sm">AAPL > $180.00</div>
                            <div class="text-xs text-gray-600 dark:text-gray-400">Price target alert</div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="w-2 h-2 bg-emerald-500 rounded-full"></span>
                            <span class="text-xs text-gray-500 dark:text-gray-500">Active</span>
                        </div>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white text-sm">TSLA < $200.00</div>
                            <div class="text-xs text-gray-600 dark:text-gray-400">Stop loss alert</div>
                        </div>
                        <div class="flex items-center space-x-2">
                            <span class="w-2 h-2 bg-emerald-500 rounded-full"></span>
                            <span class="text-xs text-gray-500 dark:text-gray-500">Active</span>
                        </div>
                    </div>
                </div>
                
                <button class="w-full mt-4 px-4 py-2 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors">
                    <i class="bi bi-plus mr-2"></i>Add Price Alert
                </button>
            </div>
            
            <div>
                <h4 class="font-medium text-gray-900 dark:text-white mb-4">Trading Alerts</h4>
                <div class="space-y-3">
                    <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white text-sm">Congressional Trades</div>
                            <div class="text-xs text-gray-600 dark:text-gray-400">Notify when followed people trade</div>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer" checked>
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 dark:peer-focus:ring-emerald-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-emerald-600"></div>
                        </label>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white text-sm">Large Transactions</div>
                            <div class="text-xs text-gray-600 dark:text-gray-400">Trades over $100,000</div>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer" checked>
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 dark:peer-focus:ring-emerald-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-emerald-600"></div>
                        </label>
                    </div>
                    
                    <div class="flex items-center justify-between p-3 bg-gray-50 dark:bg-gray-700 rounded-lg">
                        <div>
                            <div class="font-medium text-gray-900 dark:text-white text-sm">Sector Movements</div>
                            <div class="text-xs text-gray-600 dark:text-gray-400">Major sector changes</div>
                        </div>
                        <label class="relative inline-flex items-center cursor-pointer">
                            <input type="checkbox" class="sr-only peer">
                            <div class="w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-emerald-300 dark:peer-focus:ring-emerald-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-emerald-600"></div>
                        </label>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Performance Summary -->
    <div class="mt-6 bg-card rounded-xl p-6 border border-border">
        <h3 class="text-lg font-medium text-foreground mb-4">Watchlist Performance</h3>
        
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
            <div class="text-center p-6 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg">
                <div class="text-3xl font-bold text-emerald-600 dark:text-emerald-400 mb-2">+12.4%</div>
                <div class="text-sm text-gray-600 dark:text-gray-400">Average Performance</div>
                <div class="text-xs text-gray-500 dark:text-gray-500 mt-1">Last 30 days</div>
            </div>
            
            <div class="text-center p-6 bg-blue-50 dark:bg-blue-900/20 rounded-lg">
                <div class="text-3xl font-bold text-blue-600 dark:text-blue-400 mb-2">78%</div>
                <div class="text-sm text-gray-600 dark:text-gray-400">Winning Trades</div>
                <div class="text-xs text-gray-500 dark:text-gray-500 mt-1">Success rate</div>
            </div>
            
            <div class="text-center p-6 bg-purple-50 dark:bg-purple-900/20 rounded-lg">
                <div class="text-3xl font-bold text-purple-600 dark:text-purple-400 mb-2">$8,456</div>
                <div class="text-sm text-gray-600 dark:text-gray-400">Total Gains</div>
                <div class="text-xs text-gray-500 dark:text-gray-500 mt-1">This quarter</div>
            </div>
        </div>
    </div>

    <!-- Quick Actions Section -->
    <div class="section-header">
        <h2 class="section-title">Quick Actions</h2>
        <p class="section-description">Manage your watchlists with powerful tools and features</p>
    </div>

    <!-- Component Cards Grid -->
    <div class="mt-6 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6">
        <!-- New Watchlist Card -->
        <div id="new-watchlist-card-container"></div>
        
        <!-- Set Alert Card -->
        <div id="set-alert-card-container"></div>
        
        <!-- Export Data Card -->
        <div id="export-data-card-container"></div>
        
        <!-- Share List Card -->
        <div id="share-list-card-container"></div>
    </div>
</div>

    <!-- API Service -->
    <script src="../js/api-service.js"></script>
    <!-- Navigation JavaScript -->
    <script src="../components/navigation/navigation-config.js"></script>
    <script src="../components/navigation/navigation.js"></script>
    <!-- Notifications Sidebar JavaScript -->
    <script src="../components/notifications/notifications-sidebar.js"></script>
    <!-- Watchlist Component Cards JavaScript -->
    <script src="../components/pages/watchlist/new-watchlist-card/new-watchlist-card.js"></script>
    <script src="../components/pages/watchlist/set-alert-card/set-alert-card.js"></script>
    <script src="../components/pages/watchlist/export-data-card/export-data-card.js"></script>
    <script src="../components/pages/watchlist/share-list-card/share-list-card.js"></script>
    <script>
        // Check authentication
        function checkAuth() {
            if (!window.apiService.isAuthenticated()) {
                console.log('User not authenticated, showing sign-in prompt');
                showSignInModal();
                return false;
            }
            return true;
        }

        // Show sign-in modal instead of immediate redirect
        function showSignInModal() {
            // Create modal overlay
            const modal = document.createElement('div');
            modal.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                background: rgba(0, 0, 0, 0.8);
                display: flex;
                justify-content: center;
                align-items: center;
                z-index: 10000;
                backdrop-filter: blur(5px);
            `;

            // Create modal content
            const modalContent = document.createElement('div');
            modalContent.style.cssText = `
                background: linear-gradient(135deg, #0f172a 0%, #1e293b 100%);
                border: 1px solid rgba(16, 185, 129, 0.3);
                border-radius: 16px;
                padding: 2rem;
                max-width: 400px;
                width: 90%;
                text-align: center;
                box-shadow: 0 20px 40px rgba(0, 0, 0, 0.5);
            `;

            modalContent.innerHTML = `
                <div style="margin-bottom: 1.5rem;">
                    <div style="width: 60px; height: 60px; background: linear-gradient(135deg, #10b981, #059669); border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 1rem; font-size: 1.5rem; color: white;">
                        <i class="bi bi-lock"></i>
                    </div>
                    <h2 style="color: white; margin: 0 0 0.5rem 0; font-size: 1.5rem; font-weight: 600;">Sign In Required</h2>
                    <p style="color: #94a3b8; margin: 0; font-size: 0.9rem;">Please sign in to access this page and view personalized content.</p>
                </div>
                <div style="display: flex; gap: 1rem; justify-content: center;">
                    <button id="sign-in-btn" style="
                        background: linear-gradient(135deg, #10b981, #059669);
                        color: white;
                        border: none;
                        padding: 0.75rem 1.5rem;
                        border-radius: 8px;
                        font-weight: 600;
                        cursor: pointer;
                        transition: all 0.2s ease;
                    ">Sign In</button>
                    <button id="go-back-btn" style="
                        background: transparent;
                        color: #94a3b8;
                        border: 1px solid #475569;
                        padding: 0.75rem 1.5rem;
                        border-radius: 8px;
                        font-weight: 600;
                        cursor: pointer;
                        transition: all 0.2s ease;
                    ">Go Back</button>
                </div>
            `;

            modal.appendChild(modalContent);
            document.body.appendChild(modal);

            // Add event listeners
            document.getElementById('sign-in-btn').addEventListener('click', () => {
                const currentPage = window.location.pathname.split('/').pop();
                window.location.href = `sign-in.html?return=${encodeURIComponent(currentPage)}`;
            });

            document.getElementById('go-back-btn').addEventListener('click', () => {
                document.body.removeChild(modal);
                window.history.back();
            });

            // Close modal when clicking overlay
            modal.addEventListener('click', (e) => {
                if (e.target === modal) {
                    document.body.removeChild(modal);
                    window.history.back();
                }
            });
        }

        // Initialize components when page loads
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM Content Loaded - Initializing watchlist');
            
            // Check authentication first
            if (!checkAuth()) {
                return;
            }
            
            // Load watchlist component cards
            loadWatchlistComponents();
            
            // Initialize the notifications sidebar
            if (window.NotificationsSidebar) {
                const sidebar = new NotificationsSidebar();
                sidebar.init();
            }
        });

        // Function to load watchlist component cards
        async function loadWatchlistComponents() {
            try {
                // Load New Watchlist Card
                const newWatchlistResponse = await fetch('../components/pages/watchlist/new-watchlist-card/new-watchlist-card.html');
                const newWatchlistHtml = await newWatchlistResponse.text();
                document.getElementById('new-watchlist-card-container').innerHTML = newWatchlistHtml;

                // Load Set Alert Card
                const setAlertResponse = await fetch('../components/pages/watchlist/set-alert-card/set-alert-card.html');
                const setAlertHtml = await setAlertResponse.text();
                document.getElementById('set-alert-card-container').innerHTML = setAlertHtml;

                // Load Export Data Card
                const exportDataResponse = await fetch('../components/pages/watchlist/export-data-card/export-data-card.html');
                const exportDataHtml = await exportDataResponse.text();
                document.getElementById('export-data-card-container').innerHTML = exportDataHtml;

                // Load Share List Card
                const shareListResponse = await fetch('../components/pages/watchlist/share-list-card/share-list-card.html');
                const shareListHtml = await shareListResponse.text();
                document.getElementById('share-list-card-container').innerHTML = shareListHtml;

                console.log('All watchlist component cards loaded successfully');
            } catch (error) {
                console.error('Error loading watchlist component cards:', error);
            }
        }
    </script>
</body>
</html>
